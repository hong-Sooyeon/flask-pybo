<!--------card 추가는 되는데 데이터 저장이 안됨------------->



{% extends 'base.html' %}
{% block content %}

    <style>
    @import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap');
    .container{
        font-family: 'Do Hyeon', sans-serif;
    }
    </style>
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.98.0">
    <title>Album example · Bootstrap v5.2</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/album/">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }
    </style>


  </head>
  <body>
<header>
</header>

<main>


<!----------사진업로드 기능 시작------------>
    <div class="container">
    <h5 class="my-3 border-bottom pb-2">사진 등록하기</h5>
        <div class="form-group">
            <header><h1 class="page-title">사진 업로드 하기</h1></header>
            <p id="ac10138f-ebb1-4ec3-8bed-7c6c162558eb" class="">
            <form method="POST" enctype="multipart/form-data">
            <input type="file" name="file" id="imageFileOpenInput" accept="image/*"/>
            <input type="button" value="추가" onclick="doAdd();"></button>
        </form>
            </p>
        </div>
    </div>

    <div id="album">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-5" id="parent">
<!-- new card 1 -->0
        <div id = "new_card">
            <div class="col" id="card-container">
          <div class="card shadow-sm">
            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img"
                 aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                <image href="{{ url_for('test.upload_file') }}" style="width:100%; height:100%;"></svg>
            <div class="card-body">
              <p class="card-text">사용자 이름넣고싶은데..</p>
              <div class="d-flex justify-content-between align-items-center">
              </div>
            </div>
          </div>
        </div>
    </div>
    </div>
<!-- new card 1 여기까지 -->
    </div>

</main>
  </body>
</html>

{% endblock %}

{% block script %}
<!--<script type="text/javascript">-->
<!--function doAdd() {-->
<!--    var div = document.createElement('div');-->
<!--    div.innerHTML = document.getElementById('new_card').innerHTML;-->
<!--    document.getElementById('photo_album').appendChild(div);-->
<!--    };-->
<!--</script>-->

<script>
function doAdd(){
    var obj = document.getElementById('parent');
    var newDiv = document.createElement('div');
    newDiv.innerHTML = document.getElementById('new_card').innerHTML;
    newDiv.setAttribute('id', 'myDiv');
    newDiv.onclick = function() {
        var p = this.parentElement;
        p.removeChild(this);
    };
    obj.appendChild(newDiv);
}

</script>
{% endblock %}

<!----아래꺼도 작동함--------------->
<!--function doAdd(){-->
<!--    var obj = document.getElementById('parent');-->
<!--    var newDiv = document.createElement('div');-->
<!--    newDiv.innerHTML = document.getElementById('new_card').innerHTML;-->
<!--    obj.appendChild(newDiv);-->

<!--    var currentDiv = document.getElementById('parent');-->
<!--    document.body.insertBefore(newDiv, currentDiv);-->

<!--}-->


<!-------------이거도 작동은됨----------->
<!--function doAdd(){-->
<!--    var obj = document.getElementById('parent');-->
<!--    var newDiv = document.createElement('div');-->
<!--    newDiv.innerHTML = document.getElementById('new_card').innerHTML;-->
<!--    newDiv.setAttribute('id', 'myDiv');-->
<!--    newDiv.onclick = function() {-->
<!--        var p = this.parentElement;-->
<!--        p.removeChild(this);-->
<!--    };-->
<!--    obj.appendChild(newDiv);-->
<!--}-->